{"ast":null,"code":"import { login } from '@/api/user';\nimport { setToken, getToken, delToken } from '@/utils/storage';\n// user模块相关\nexport default {\n  namespaced: true,\n  state() {\n    return {\n      // vuex的初始数据，默认应该从本地获取，如果本地没有，才初始化为 ''\n      token: getToken() || '',\n      words: '测试数据'\n    };\n  },\n  mutations: {\n    setUserToken(state, newToken) {\n      state.token = newToken;\n      // 存入vuex的同时，持久化一份到本地\n      setToken(newToken);\n    },\n    logout(state) {\n      state.token = '';\n      // 清除vuex的同时，需要将本地的也清空\n      delToken();\n    }\n  },\n  actions: {\n    // async 函数的返回值，就是一个promise，所以action函数的调用\n    // 可以通过 await 判定是否成功\n    async loginAction(context, obj) {\n      // 发送登录请求\n      const res = await login(obj);\n      // commit mutation\n      context.commit('setUserToken', res.data.token);\n    }\n  },\n  getters: {}\n};","map":{"version":3,"names":["login","setToken","getToken","delToken","namespaced","state","token","words","mutations","setUserToken","newToken","logout","actions","loginAction","context","obj","res","commit","data","getters"],"sources":["/Users/bufferhh/Desktop/hm-element-pc/src/store/modules/user.js"],"sourcesContent":["import { login } from '@/api/user'\r\nimport { setToken, getToken, delToken } from '@/utils/storage'\r\n// user模块相关\r\nexport default {\r\n  namespaced: true,\r\n  state () {\r\n    return {\r\n      // vuex的初始数据，默认应该从本地获取，如果本地没有，才初始化为 ''\r\n      token: getToken() || '',\r\n      words: '测试数据'\r\n    }\r\n  },\r\n  mutations: {\r\n    setUserToken (state, newToken) {\r\n      state.token = newToken\r\n      // 存入vuex的同时，持久化一份到本地\r\n      setToken(newToken)\r\n    },\r\n    logout (state) {\r\n      state.token = ''\r\n      // 清除vuex的同时，需要将本地的也清空\r\n      delToken()\r\n    }\r\n  },\r\n  actions: {\r\n    // async 函数的返回值，就是一个promise，所以action函数的调用\r\n    // 可以通过 await 判定是否成功\r\n    async loginAction (context, obj) {\r\n      // 发送登录请求\r\n      const res = await login(obj)\r\n      // commit mutation\r\n      context.commit('setUserToken', res.data.token)\r\n    }\r\n  },\r\n  getters: {\r\n\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,YAAY;AAClC,SAASC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,QAAQ,iBAAiB;AAC9D;AACA,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAKA,CAAA,EAAI;IACP,OAAO;MACL;MACAC,KAAK,EAAEJ,QAAQ,CAAC,CAAC,IAAI,EAAE;MACvBK,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,SAAS,EAAE;IACTC,YAAYA,CAAEJ,KAAK,EAAEK,QAAQ,EAAE;MAC7BL,KAAK,CAACC,KAAK,GAAGI,QAAQ;MACtB;MACAT,QAAQ,CAACS,QAAQ,CAAC;IACpB,CAAC;IACDC,MAAMA,CAAEN,KAAK,EAAE;MACbA,KAAK,CAACC,KAAK,GAAG,EAAE;MAChB;MACAH,QAAQ,CAAC,CAAC;IACZ;EACF,CAAC;EACDS,OAAO,EAAE;IACP;IACA;IACA,MAAMC,WAAWA,CAAEC,OAAO,EAAEC,GAAG,EAAE;MAC/B;MACA,MAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACe,GAAG,CAAC;MAC5B;MACAD,OAAO,CAACG,MAAM,CAAC,cAAc,EAAED,GAAG,CAACE,IAAI,CAACZ,KAAK,CAAC;IAChD;EACF,CAAC;EACDa,OAAO,EAAE,CAET;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}